package main

import (
  "encoding/json"
  "fmt"
)

func main() {

  podsJSON := `[


{"kind":"PodList","apiVersion":"v1","metadata":{"resourceVersion":"18435355"},"items":[{"metadata":{"name":"iavirus-pod-nfs-proxy-dev","namespace":"sc-sandbox","uid":"03a9427d-b3c0-4367-b12c-f334f032304a","resourceVersion":"18061107","creationTimestamp":"2021-08-01T16:55:02Z","annotations":{"kubectl.kubernetes.io/last-applied-configuration":"{\"apiVersion\":\"v1\",\"kind\":\"Pod\",\"metadata\":{\"annotations\":{},\"name\":\"iavirus-pod-nfs-proxy-dev\",\"namespace\":\"sc-sandbox\"},\"spec\":{\"containers\":[{\"args\":[\"write\"],\"command\":[\"/docker-entrypoint.sh\"],\"env\":[{\"name\":\"RW_VOLUMES\",\"value\":\"/rw_drive\"}],\"image\":\"iafw1:5000/cloud-iatk/iaworker:v1\",\"imagePullPolicy\":\"Always\",\"name\":\"worker-container\",\"resources\":{},\"volumeMounts\":[{\"mountPath\":\"/rw_drive\",\"name\":\"rw-dir\"}]},{\"args\":[\"client\"],\"command\":[\"/docker-entrypoint.sh\"],\"env\":[{\"name\":\"RW_VOLUMES\",\"value\":\"/rw_drive\"}],\"envFrom\":[{\"configMapRef\":{\"name\":\"iaworker-configmap\"}}],\"image\":\"iafw1:5000/cloud-iatk/iavirus-dev:nfs\",\"imagePullPolicy\":\"Always\",\"name\":\"iavirus-container\",\"ports\":[{\"containerPort\":8888}],\"resources\":{},\"volumeMounts\":[{\"mountPath\":\"/uvscan\",\"name\":\"uvscan-nfs\"},{\"mountPath\":\"/rw_drive\",\"name\":\"rw-dir\"},{\"mountPath\":\"/src\",\"name\":\"rw-src\"}]},{\"image\":\"iafw1:5000/cloud-iatk/iashell-proxy:v1\",\"name\":\"proxy-container\"}],\"dnsPolicy\":\"Default\",\"volumes\":[{\"hostPath\":{\"path\":\"/usr/local\"},\"name\":\"rw-dir\"},{\"name\":\"uvscan-nfs\",\"persistentVolumeClaim\":{\"claimName\":\"uvscan-nfs\",\"readOnly\":false}},{\"name\":\"rw-src\",\"persistentVolumeClaim\":{\"claimName\":\"rw-src-nfs-pvc\",\"readOnly\":false}}]}}\n"},"managedFields":[{"manager":"kubectl-client-side-apply","operation":"Update","apiVersion":"v1","time":"2021-08-01T16:55:02Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:annotations":{".":{},"f:kubectl.kubernetes.io/last-applied-configuration":{}}},"f:spec":{"f:containers":{"k:{\"name\":\"iavirus-container\"}":{".":{},"f:args":{},"f:command":{},"f:env":{".":{},"k:{\"name\":\"RW_VOLUMES\"}":{".":{},"f:name":{},"f:value":{}}},"f:envFrom":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":8888,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:protocol":{}}},"f:resources":{},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/rw_drive\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/src\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/uvscan\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"proxy-container\"}":{".":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{}},"k:{\"name\":\"worker-container\"}":{".":{},"f:args":{},"f:command":{},"f:env":{".":{},"k:{\"name\":\"RW_VOLUMES\"}":{".":{},"f:name":{},"f:value":{}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/rw_drive\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:dnsPolicy":{},"f:enableServiceLinks":{},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{},"f:terminationGracePeriodSeconds":{},"f:volumes":{".":{},"k:{\"name\":\"rw-dir\"}":{".":{},"f:hostPath":{".":{},"f:path":{},"f:type":{}},"f:name":{}},"k:{\"name\":\"rw-src\"}":{".":{},"f:name":{},"f:persistentVolumeClaim":{".":{},"f:claimName":{}}},"k:{\"name\":\"uvscan-nfs\"}":{".":{},"f:name":{},"f:persistentVolumeClaim":{".":{},"f:claimName":{}}}}}}},{"manager":"kubelet","operation":"Update","apiVersion":"v1","time":"2021-08-01T16:55:04Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:conditions":{"k:{\"type\":\"ContainersReady\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Initialized\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Ready\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}}},"f:containerStatuses":{},"f:hostIP":{},"f:phase":{},"f:podIP":{},"f:podIPs":{".":{},"k:{\"ip\":\"10.244.2.112\"}":{".":{},"f:ip":{}}},"f:startTime":{}}}}]},"spec":{"volumes":[{"name":"rw-dir","hostPath":{"path":"/usr/local","type":""}},{"name":"uvscan-nfs","persistentVolumeClaim":{"claimName":"uvscan-nfs"}},{"name":"rw-src","persistentVolumeClaim":{"claimName":"rw-src-nfs-pvc"}},{"name":"kube-api-access-46b2k","projected":{"sources":[{"serviceAccountToken":{"expirationSeconds":3607,"path":"token"}},{"configMap":{"name":"kube-root-ca.crt","items":[{"key":"ca.crt","path":"ca.crt"}]}},{"downwardAPI":{"items":[{"path":"namespace","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}}]}}],"defaultMode":420}}],"containers":[{"name":"worker-container","image":"iafw1:5000/cloud-iatk/iaworker:v1","command":["/docker-entrypoint.sh"],"args":["write"],"env":[{"name":"RW_VOLUMES","value":"/rw_drive"}],"resources":{},"volumeMounts":[{"name":"rw-dir","mountPath":"/rw_drive"},{"name":"kube-api-access-46b2k","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always"},{"name":"iavirus-container","image":"iafw1:5000/cloud-iatk/iavirus-dev:nfs","command":["/docker-entrypoint.sh"],"args":["client"],"ports":[{"containerPort":8888,"protocol":"TCP"}],"envFrom":[{"configMapRef":{"name":"iaworker-configmap"}}],"env":[{"name":"RW_VOLUMES","value":"/rw_drive"}],"resources":{},"volumeMounts":[{"name":"uvscan-nfs","mountPath":"/uvscan"},{"name":"rw-dir","mountPath":"/rw_drive"},{"name":"rw-src","mountPath":"/src"},{"name":"kube-api-access-46b2k","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always"},{"name":"proxy-container","image":"iafw1:5000/cloud-iatk/iashell-proxy:v1","resources":{},"volumeMounts":[{"name":"kube-api-access-46b2k","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"Default","serviceAccountName":"default","serviceAccount":"default","nodeName":"cl10-infra1.iadev.net","securityContext":{},"schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0,"enableServiceLinks":true,"preemptionPolicy":"PreemptLowerPriority"},"status":{"phase":"Running","conditions":[{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2021-08-01T16:55:02Z"},{"type":"Ready","status":"True","lastProbeTime":null,"lastTransitionTime":"2021-08-01T16:55:04Z"},{"type":"ContainersReady","status":"True","lastProbeTime":null,"lastTransitionTime":"2021-08-01T16:55:04Z"},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2021-08-01T16:55:02Z"}],"hostIP":"10.3.1.103","podIP":"10.244.2.112","podIPs":[{"ip":"10.244.2.112"}],"startTime":"2021-08-01T16:55:02Z","containerStatuses":[{"name":"iavirus-container","state":{"running":{"startedAt":"2021-08-01T16:55:03Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"iafw1:5000/cloud-iatk/iavirus-dev:nfs","imageID":"docker-pullable://iafw1:5000/cloud-iatk/iavirus-dev@sha256:c5e578137238f109a4585f4297958aa0aa563295c13aa5958891b901493cf153","containerID":"docker://794469cc81bdc32647c41eb9d189ec4ed320d1c48b53a5bf675ae1fd3ff2e98d","started":true},{"name":"proxy-container","state":{"running":{"startedAt":"2021-08-01T16:55:04Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"iafw1:5000/cloud-iatk/iashell-proxy:v1","imageID":"docker-pullable://iafw1:5000/cloud-iatk/iashell-proxy@sha256:16f2212969943acb05073a09fdb0cea0442bcff61a458501adc93f7cc4b6a2cb","containerID":"docker://8a30ea42265aecf18e0f19960d2932a02be59ed8fcfbb81864de0a4fabc329f9","started":true},{"name":"worker-container","state":{"running":{"startedAt":"2021-08-01T16:55:03Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"iafw1:5000/cloud-iatk/iaworker:v1","imageID":"docker-pullable://iafw1:5000/cloud-iatk/iaworker@sha256:f98473b5770eac0907660025cb2cb08b317d1e951ba2cd2885a6fc812717d0e6","containerID":"docker://495bf944afd2b3a139fe4ff41a0d994e8f5cc07bb9fb9bb83113aad9393862b2","started":true}],"qosClass":"BestEffort"}},{"metadata":{"name":"shell-pod","namespace":"sc-sandbox","uid":"7fba0ad9-dd51-497d-a08d-1224f7fe718e","resourceVersion":"14636512","creationTimestamp":"2021-07-14T16:50:08Z","annotations":{"kubectl.kubernetes.io/last-applied-configuration":"{\"apiVersion\":\"v1\",\"kind\":\"Pod\",\"metadata\":{\"annotations\":{},\"name\":\"shell-pod\",\"namespace\":\"sc-sandbox\"},\"spec\":{\"containers\":[{\"args\":[\"wait\"],\"command\":[\"/docker-entrypoint.sh\"],\"image\":\"nexus.cs.progeny.net:8085/cloud-iatk/iashell:v2\",\"imagePullPolicy\":\"Always\",\"name\":\"shell-container\",\"resources\":{},\"volumeMounts\":[{\"mountPath\":\"/rw_drive\",\"name\":\"rw-dir\"}]}],\"dnsPolicy\":\"Default\",\"volumes\":[{\"hostPath\":{\"path\":\"/usr/local\"},\"name\":\"rw-dir\"}]}}\n"},"managedFields":[{"manager":"kubectl-client-side-apply","operation":"Update","apiVersion":"v1","time":"2021-07-14T16:50:08Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:annotations":{".":{},"f:kubectl.kubernetes.io/last-applied-configuration":{}}},"f:spec":{"f:containers":{"k:{\"name\":\"shell-container\"}":{".":{},"f:args":{},"f:command":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/rw_drive\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:dnsPolicy":{},"f:enableServiceLinks":{},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{},"f:terminationGracePeriodSeconds":{},"f:volumes":{".":{},"k:{\"name\":\"rw-dir\"}":{".":{},"f:hostPath":{".":{},"f:path":{},"f:type":{}},"f:name":{}}}}}},{"manager":"kubelet","operation":"Update","apiVersion":"v1","time":"2021-07-14T16:50:27Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:conditions":{"k:{\"type\":\"ContainersReady\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Initialized\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Ready\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}}},"f:containerStatuses":{},"f:hostIP":{},"f:phase":{},"f:podIP":{},"f:podIPs":{".":{},"k:{\"ip\":\"10.244.1.59\"}":{".":{},"f:ip":{}}},"f:startTime":{}}}}]},"spec":{"volumes":[{"name":"rw-dir","hostPath":{"path":"/usr/local","type":""}},{"name":"kube-api-access-97j4m","projected":{"sources":[{"serviceAccountToken":{"expirationSeconds":3607,"path":"token"}},{"configMap":{"name":"kube-root-ca.crt","items":[{"key":"ca.crt","path":"ca.crt"}]}},{"downwardAPI":{"items":[{"path":"namespace","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}}]}}],"defaultMode":420}}],"containers":[{"name":"shell-container","image":"nexus.cs.progeny.net:8085/cloud-iatk/iashell:v2","command":["/docker-entrypoint.sh"],"args":["wait"],"resources":{},"volumeMounts":[{"name":"rw-dir","mountPath":"/rw_drive"},{"name":"kube-api-access-97j4m","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"Default","serviceAccountName":"default","serviceAccount":"default","nodeName":"cl10-infra3.iadev.net","securityContext":{},"schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0,"enableServiceLinks":true,"preemptionPolicy":"PreemptLowerPriority"},"status":{"phase":"Running","conditions":[{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2021-07-14T16:50:08Z"},{"type":"Ready","status":"True","lastProbeTime":null,"lastTransitionTime":"2021-07-14T16:50:27Z"},{"type":"ContainersReady","status":"True","lastProbeTime":null,"lastTransitionTime":"2021-07-14T16:50:27Z"},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2021-07-14T16:50:08Z"}],"hostIP":"10.3.1.105","podIP":"10.244.1.59","podIPs":[{"ip":"10.244.1.59"}],"startTime":"2021-07-14T16:50:08Z","containerStatuses":[{"name":"shell-container","state":{"running":{"startedAt":"2021-07-14T16:50:26Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"nexus.cs.progeny.net:8085/cloud-iatk/iashell:v2","imageID":"docker-pullable://nexus.cs.progeny.net:8085/cloud-iatk/iashell@sha256:7c139a774ad46564625cfe193612c9b8b64a9b699fef6eaa5ef90877dffbde43","containerID":"docker://22f5c23c9163308a07ddc35ec5aa89acccb582e9435d08e591cda0667e850c88","started":true}],"qosClass":"BestEffort"}}]}

